# 3

## Service worker

Service Worker는 웹 애플리케이션에서 백그라운드에서 실행되는 스크립트로, 웹 페이지와는 별도로 동작한다.  
주로 웹 애플리케이션의 성능을 향상시키고 오프라인 상태에서도 작동할 수 있도록 지원한다.

서비스워커는  이벤트 기반 워커로서 JavaScript 파일 형태를 가지고 있다.  
서비스워커 연관된 웹 페이지를 통제하여 리소스 요청을 가로채 수정하거나 캐싱할 수 있다.  
이를 통해 웹 앱이 어떤 상황에서 어떻게 동작해야할 지 완벽하게 바꿀 수 있다.  
특히 네트워크가 없는 상황이 대표적인 사용처이다.

> 워커란?  
> 브라우저에서 사용되는 스크립트로, 웹 애플리케이션에서 백그라운드에서 실행되는 JavaScript 코드.  
> 브라우저 주 스레드와 별도의 스레드로 동작한다.

서비스워커도 워커 맥락에서 동작하기 때문에 DOM에 접근할 수는 없다.  
또한 역시 앱을 사용하는동안 주 스레드가 아닌 별도 스레드에서 동작한다.  
그리고 보안상의 이유로 HTTPS 에서만 동작한다.  네트워크 요청을 가로채 수정할 수 있다는 점에서 공격에 굉장히 취약하기 때문이다.

## MSW(Mock Service Worker)

> 코드 레벨이 아니라 네트워크 레벨에서의 가짜 구현.  
> 오프라인 작업등을 지원하기 위해 서비스 워커의 기능을 유용히 활용한 것

웹 어플리케이션의 개발 및 테스트를 위해 가짜 API를 만들어주는 도구.  
MSW는 브라우저 환경에서 실행되며, 미리 정의된 API 응답을 반환하여 개발 및 테스트를 용이하게 함

가장 큰 강점은 모킹이 ‘네트워크’ 레벨에서 이루어 진다는 점이다.  
실제 브라우저 개발자도구의 네트워크 탭에도 응답이 표시된다.  
프론트단에서 코드를 작성할 때 실제 백엔드 API와 통신하는 것과 거의 동일하게 작성해도 무방하다.  
때문에 나중에 모킹된 API를 실제 API로 그대로 대체하면 되므로 프론트 개발이 수월해진다.  
또한 REST와 GraphQL 모두 지원한다.

## polyfill(폴리필)

폴리필은 기본적으로 지원하지 않는 이전 브라우저에서 최신 기능을 제공하는 데 필요한 코드 (일반적으로 웹의 JavaScript)를 말한다.  
구현이 누락된 새로운 기능을 메꿔주는(`fill in`)의 역할을 한다.

폴리필을 사용하면 폭넚은 브라우저를 지원할 수 있다는 장점이 있긴하나, 문제도 같이 생긴다.  
폴리필로 인해 불러와야하는 JavaScript 코드가 많아진다는 점이다.  
폴리필 스크립트가 많아질 수록 웹 서비스의 성능은 저하될 수 있다.

대표적인 폴리필 라이브러리로는 Babel Polyfill, core-js 가 있다.  
