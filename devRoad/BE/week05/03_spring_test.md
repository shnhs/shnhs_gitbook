# Spring Test

## Integration Test

Spring Test를 단위테스트랑 구분해서 Integration Test라고도 함  
이전에 한번 정리한 내용처럼 단위테스트로 검증한 각 모듈, 클래스, 메서드 사이의 상호작용이  
정상적으로 이루어져 더 큰 단위의 기능을 테스트하는 단계이다.

스프링의 힘을 빌려야 하는 경우가 많다. 스프링이 테스트를 위한 다양한 어노테이션을 제공하기 때문이다.  
IoC 컨테이너를 적극적으로 사용하거나, Spring Web MVC를 사용하는 등 다양한 편의 기능을 제공한다.

## @Autowired

DI(의존성 주입)을 도와주는 어노테이션이다.  
해당 어노테이션을 사용하면 스프링이 빈을 관리하는 IoC컨테이너에서  
필요한 의존성 주입을 스프링이 대신 해준다.

## Spring Boot Test

Spring Boot 1.4부터 @SpringBootTest Annotation을 써서 쉽게 테스트할 수 있다.  
그러나 @SpringBootTest를 사용하는 방식은 실제 Server를 실행시켜서 테스트한다.  
실제 서버를 띄우다 보니 리소스도 많이 들어가고 시간도 상대적으로 오래걸리는 단점이 있다.

## MockMvc

그래서 MockMvc를 사용할 수 있다. MockMvc는 실제 웹 서버를 실행하지 않고,  
테스트용 Mvc를 만들어서 마치 실제 서버에 요청,응답 하는 것 처럼 사용할 수 있는 클래스이다.

## @SpyBean

IoC컨테이너에 등록된 빈에 대해 Spy를 생성해주는 어노테이션이다.  
Spy를 생성한다는게 어떤 의미인가?  
@SpyBean으로 선언한 객체 이외에는 모두 테스트에서 실제 객체를 사용해야 하고,  
해당 어노테이션으로 선언된 객체는 가짜 객체를 사용하게 된다(좀 더 이해가 필요할 것 같다.)
